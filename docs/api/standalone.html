<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RouteForce API Documentation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #fafafa;
        }
        .demo-banner {
            background: #007acc;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .endpoints {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }
        .endpoint {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .endpoint-header {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: white;
            font-size: 12px;
            margin-right: 10px;
        }
        .method.get { background: #61affe; }
        .method.post { background: #49cc90; }
        .endpoint-path {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 16px;
            font-weight: bold;
        }
        .endpoint-description {
            color: #666;
            margin-top: 5px;
        }
        .endpoint-body {
            padding: 20px;
        }
        .parameters, .responses {
            margin-top: 15px;
        }
        .parameters h4, .responses h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .param, .response {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            margin: 10px 0;
        }
        .success {
            color: #48bb78;
            font-weight: bold;
        }
        .footer {
            text-align: center;
            padding: 30px;
            color: #666;
            border-top: 1px solid #e9ecef;
            margin-top: 50px;
        }
        .docs-link {
            display: inline-block;
            background: #007acc;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px;
        }
        .docs-link:hover {
            background: #005a99;
        }
    </style>
</head>
<body>
    <div class="demo-banner">
        🚀 RouteForce API Documentation - Automatically Generated
    </div>
    
    <div class="container">
        <div class="header">
            <h1>RouteForce Routing API</h1>
            <p><strong>Version:</strong> 1.0.0</p>
            <p><strong>Description:</strong> Enterprise-grade route optimization and field execution API</p>
            
            <div style="margin-top: 20px;">
                <a href="./openapi.json" class="docs-link">📋 Download OpenAPI Spec</a>
                <a href="#" onclick="alert('Start the Flask app and visit /api/docs/ for full interactive documentation')" class="docs-link">📚 Interactive Docs</a>
            </div>
        </div>

        <div class="endpoints">
            <!-- Health Check Endpoint -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <div>
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/health</span>
                    </div>
                    <div class="endpoint-description">Get API health status</div>
                </div>
                <div class="endpoint-body">
                    <p>Returns the current health status of the API service</p>
                    
                    <div class="responses">
                        <h4>Responses:</h4>
                        <div class="response">
                            <strong>200</strong> - Service is healthy
                        </div>
                    </div>
                    
                    <h4>Example Response:</h4>
                    <div class="code-block">{
  "status": "healthy",
  "version": "1.0.0",
  "timestamp": "2024-01-15T10:30:00Z"
}</div>
                </div>
            </div>

            <!-- Create Route Endpoint -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <div>
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/routes</span>
                    </div>
                    <div class="endpoint-description">Create a new optimized route</div>
                </div>
                <div class="endpoint-body">
                    <p>Creates an optimized route for field execution teams using various algorithms including genetic algorithm and simulated annealing.</p>
                    
                    <h4>Request Body:</h4>
                    <div class="code-block">{
  "stores": [
    {
      "name": "Store A",
      "address": "123 Main St, New York, NY",
      "latitude": 40.7128,
      "longitude": -74.0060
    }
  ],
  "algorithm": "genetic"
}</div>
                    
                    <div class="responses">
                        <h4>Responses:</h4>
                        <div class="response">
                            <strong>201</strong> - Route created successfully
                        </div>
                        <div class="response">
                            <strong>400</strong> - Bad request - invalid input data
                        </div>
                    </div>
                    
                    <h4>Example Response:</h4>
                    <div class="code-block">{
  "route_id": "123e4567-e89b-12d3-a456-426614174000",
  "optimized_route": [...],
  "total_distance": 45.5,
  "total_duration": 120,
  "google_maps_url": "https://maps.google.com/..."
}</div>
                </div>
            </div>

            <!-- Get Routes Endpoint -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <div>
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/routes</span>
                    </div>
                    <div class="endpoint-description">Get route history with pagination</div>
                </div>
                <div class="endpoint-body">
                    <p>Returns paginated list of previously generated routes</p>
                    
                    <div class="parameters">
                        <h4>Query Parameters:</h4>
                        <div class="param">
                            <strong>page</strong> (integer): Page number (default: 1)
                        </div>
                        <div class="param">
                            <strong>per_page</strong> (integer): Items per page (default: 10)
                        </div>
                    </div>
                    
                    <div class="responses">
                        <h4>Responses:</h4>
                        <div class="response">
                            <strong>200</strong> - Routes retrieved successfully
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Endpoint -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <div>
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/analytics/usage</span>
                    </div>
                    <div class="endpoint-description">Get analytics and usage statistics</div>
                </div>
                <div class="endpoint-body">
                    <p>Returns comprehensive analytics including route generation statistics, algorithm usage patterns, and performance metrics.</p>
                    
                    <div class="parameters">
                        <h4>Query Parameters:</h4>
                        <div class="param">
                            <strong>period</strong> (string): Time period (day, week, month, year)
                        </div>
                        <div class="param">
                            <strong>start_date</strong> (string): Start date (YYYY-MM-DD)
                        </div>
                        <div class="param">
                            <strong>end_date</strong> (string): End date (YYYY-MM-DD)
                        </div>
                    </div>
                    
                    <div class="responses">
                        <h4>Responses:</h4>
                        <div class="response">
                            <strong>200</strong> - Analytics retrieved successfully
                        </div>
                        <div class="response">
                            <strong>401</strong> - Authentication required
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <h3>🛠️ For Developers</h3>
            <p><strong>Interactive Documentation:</strong> Start the Flask application and visit <code>/api/docs/</code></p>
            <p><strong>Authentication:</strong> API supports Bearer Token and API Key authentication</p>
            <p><strong>Rate Limiting:</strong> 100 requests/minute for most endpoints, 50 requests/minute for analytics</p>
            <p><strong>OpenAPI Spec:</strong> <a href="./openapi.json">Download JSON specification</a></p>
            <hr style="margin: 20px 0;">
            <p style="font-size: 14px; color: #888;">
                This documentation is automatically generated from code annotations.<br>
                Check <code>docs/API_DOCUMENTATION_GUIDE.md</code> for contributor instructions.
            </p>
        </div>
    </div>
</body>
</html>